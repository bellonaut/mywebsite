---
import { Icon } from "astro-icon/components";
import Content from "./Content.astro";

interface Props {
  title?: string;
  body?: string;
  colSpan?: string;
  rowSpan?: string;
  href?: string;
  colorText?: string;
  height?: string;
  width?: string;
}

const { title, body, colSpan, rowSpan, href, colorText, height } = Astro.props;
---

<div
  class={`card flex flex-col h-max sm:h-auto group overflow-hidden p-6 align-start flex-none ${
    height || "h-full"
  } justify-start relative w-full transition duration-150 ease-in-out col-span-1 ${
    colSpan || "md:col-span-2"
  } ${rowSpan || ""}`}
  style="
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.06)) , var(--card);
    border: 1px solid var(--card-border);
    border-radius: 18px;
    box-shadow: 0 18px 48px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.03);
    backdrop-filter: blur(4px);
    position: relative;
  "
>
  <div class="pointer-events-none absolute inset-0 opacity-20 mix-blend-soft-light" style="background-image:url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27160%27 height=%27160%27 viewBox=%270 0 160 160%27%3E%3Cfilter id=%27n%27%3E%3CfeTurbulence type=%27fractalNoise%27 baseFrequency=%270.8%27 numOctaves=%272%27 stitchTiles=%27stitch%27/%3E%3C/filter%3E%3Crect width=%27100%25%27 height=%27100%25%27 filter=%27url(%23n)%27 opacity=%270.4%27/%3E%3C/svg%3E'); border-radius:18px;"></div>
  {
    href ? (
      <a class={`h-full w-full ${colorText || ""}`} href={href}>
        <Icon
          class="h-6 float-right group-hover:text-primary-500 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform ease-in-out duration-100 z-20"           name="ri:arrow-right-up-line"
        />
        <Content body={body} title={title}>
          <slot />
        </Content>
      </a>
    ) : (
      <Content body={body} title={title}>
        <slot />
      </Content>
    )
  }
</div>
